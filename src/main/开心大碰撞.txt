玩家数据相关：
    Account表数据redis缓存七天
    模块数据保留redis缓存一天，下线保存，上线拿完后清除
    玩家离线后本地保留五分钟
    玩家数据每30s同步到数据库一次，只同步改变了的表

线程池相关：
    逻辑服任务处理使用线程池默认队列
    Netty接收客户端最大包长度2kb
    轮训守护线程1s检测一次战斗计算线程，如果某次计算时间超过3s就kill线程然后重新起一个线程

服务器之间：
    服务器之间10秒同步一次负载，选服的时候选择负载系数最低服务器

战斗帧率，一秒30帧，一次发射按照一帧一帧计算刚体的位置，速度，碰撞等，并记录关键点，等计算完成发射给客户端。
刚体速度很小的时候会强行设置刚体速度为0

所以新的服务器框架设计 网关不参与路由功能 网关的存在是有一些作用
网关的作用：
1、保持与玩家的会话交互，让逻辑服只关注业务逻辑
2、逻辑服直接切换，玩家无感知
3、能够直接有效控制流量
4、根据负载选择逻辑服
5、针对一些无需逻辑广播的协议，可以直接发网关广播

压测问题：
异步db队列线程太少，导致任务堆积，任务引用玩家数据，导致下线的玩家数据不能被回收，导致内存泄露、内存不足，导致一直gc、gc超时，导致任务越发处理不了，堆积越来越多